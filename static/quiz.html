<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cyber Safety Quiz - THE SHIELD</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #e0f7ff; /* Sky blue background */
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      max-width: 800px;
      width: 90%;
      margin: 20px;
      padding: 30px;
      background-color: #ffffff; /* White background for the container */
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      border-radius: 12px;
    }

    h1, h2 {
      color: #0077b6; /* Dark sky blue for headings */
      text-align: center;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 15px;
    }

    form {
      display: flex;
      flex-direction: column;
    }

    label {
      margin: 10px 0 5px;
      font-weight: bold;
      color: #023e8a; /* Darker sky blue for labels */
    }

    input[type="text"], input[type="password"] {
      padding: 12px;
      margin-bottom: 20px;
      border: 1px solid #90e0ef; /* Light sky blue border */
      border-radius: 8px;
      font-size: 1rem;
      outline: none;
    }

    input[type="text"]:focus, input[type="password"]:focus {
      border-color: #0077b6; /* Dark sky blue on focus */
      box-shadow: 0 0 8px rgba(0, 119, 182, 0.3);
    }

    button {
      padding: 12px;
      background-color: #0077b6; /* Dark sky blue for buttons */
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #023e8a; /* Darker sky blue on hover */
    }

    .question {
      border: 1px solid #90e0ef; /* Light sky blue border */
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      background-color: #f0faff; /* Very light sky blue background */
    }

    .question p {
      font-weight: bold;
      margin-top: 0;
      color: #0077b6; /* Dark sky blue for question text */
    }

    .question label {
      display: block;
      margin: 10px 0;
      color: #023e8a; /* Darker sky blue for options */
    }

    .login-form {
      margin-bottom: 20px;
    }

    .login-form input {
      width: 100%;
    }

    .try-again {
      color: #d90429; /* Red for error message */
      font-weight: bold;
      text-align: center;
      margin-top: 20px;
    }

    .try-again button {
      background-color: #d90429; /* Red for try again button */
      margin-top: 10px;
    }

    .try-again button:hover {
      background-color: #b00020; /* Darker red on hover */
    }

    .progress-bar {
      width: 100%;
      background-color: #f1f1f1;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .progress {
      height: 10px;
      background-color: #0077b6;
      border-radius: 8px;
      width: 0%;
      transition: width 0.5s ease;
    }

    .timer {
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: #0077b6;
    }

    .testimonials {
      margin-top: 50px;
    }

    .testimonial {
      background-color: #f0faff;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .testimonial p {
      font-style: italic;
      color: #023e8a;
    }

    .testimonial-author {
      font-weight: bold;
      text-align: right;
      color: #0077b6;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <!-- Login Form -->
    <div class="login-form">
      <h2>Login</h2>
      <form id="loginForm">
        <label for="username">Enter Your Name:</label>
        <input type="text" id="username" name="username" required>
        <button type="submit">Start Quiz</button>
      </form>
    </div>

    <!-- Quiz Form (Hidden Initially) -->
    <div id="quizSection" style="display: none;">
      <h1>Cyber Safety Quiz</h1>
      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress" id="quizProgress"></div>
      </div>
      <!-- Timer -->
      <div class="timer" id="quizTimer">Time Left: 10:00</div>
      <form id="quizForm">
        <!-- Question 1 -->
        <div class="question">
          <p>1. What is phishing?</p>
          <label><input type="radio" name="q1" value="A"> A type of fish</label>
          <label><input type="radio" name="q1" value="B"> A cyber attack to steal sensitive information</label>
          <label><input type="radio" name="q1" value="C"> A type of malware</label>
          <label><input type="radio" name="q1" value="D"> A type of hardware</label>
        </div>

        <!-- Question 2 -->
        <div class="question">
          <p>2. What is two-factor authentication (2FA)?</p>
          <label><input type="radio" name="q2" value="A"> Using two passwords</label>
          <label><input type="radio" name="q2" value="B"> A security method requiring two forms of verification</label>
          <label><input type="radio" name="q2" value="C"> A type of virus</label>
          <label><input type="radio" name="q2" value="D"> A type of firewall</label>
        </div>

        <!-- Question 3 -->
        <div class="question">
          <p>3. What is ransomware?</p>
          <label><input type="radio" name="q3" value="A"> Software that protects your computer</label>
          <label><input type="radio" name="q3" value="B"> Malware that encrypts files and demands payment</label>
          <label><input type="radio" name="q3" value="C"> A type of phishing attack</label>
          <label><input type="radio" name="q3" value="D"> A type of antivirus</label>
        </div>

        <!-- Question 4 -->
        <div class="question">
          <p>4. What is a strong password?</p>
          <label><input type="radio" name="q4" value="A"> A password with only numbers</label>
          <label><input type="radio" name="q4" value="B"> A password with at least 12 characters, including letters, numbers, and symbols</label>
          <label><input type="radio" name="q4" value="C"> A password that is easy to remember</label>
          <label><input type="radio" name="q4" value="D"> A password that is your name</label>
        </div>

        <!-- Question 5 -->
        <div class="question">
          <p>5. What is a VPN used for?</p>
          <label><input type="radio" name="q5" value="A"> To increase internet speed</label>
          <label><input type="radio" name="q5" value="B"> To encrypt internet traffic and hide your IP address</label>
          <label><input type="radio" name="q5" value="C"> To block ads</label>
          <label><input type="radio" name="q5" value="D"> To create a hotspot</label>
        </div>

        <!-- Question 6 -->
        <div class="question">
          <p>6. What is identity theft?</p>
          <label><input type="radio" name="q6" value="A"> Stealing someone's physical belongings</label>
          <label><input type="radio" name="q6" value="B"> Stealing someone's personal information to commit fraud</label>
          <label><input type="radio" name="q6" value="C"> A type of malware</label>
          <label><input type="radio" name="q6" value="D"> A type of phishing attack</label>
        </div>

        <!-- Question 7 -->
        <div class="question">
          <p>7. What is a firewall?</p>
          <label><input type="radio" name="q7" value="A"> A physical barrier to stop fire</label>
          <label><input type="radio" name="q7" value="B"> A security system that monitors and controls incoming and outgoing network traffic</label>
          <label><input type="radio" name="q7" value="C"> A type of antivirus</label>
          <label><input type="radio" name="q7" value="D"> A type of malware</label>
        </div>

        <!-- Question 8 -->
        <div class="question">
          <p>8. What is malware?</p>
          <label><input type="radio" name="q8" value="A"> Software designed to harm or exploit devices</label>
          <label><input type="radio" name="q8" value="B"> A type of hardware</label>
          <label><input type="radio" name="q8" value="C"> A type of firewall</label>
          <label><input type="radio" name="q8" value="D"> A type of VPN</label>
        </div>

        <!-- Question 9 -->
        <div class="question">
          <p>9. What is a data breach?</p>
          <label><input type="radio" name="q9" value="A"> A natural disaster</label>
          <label><input type="radio" name="q9" value="B"> Unauthorized access to sensitive data</label>
          <label><input type="radio" name="q9" value="C"> A type of phishing attack</label>
          <label><input type="radio" name="q9" value="D"> A type of antivirus</label>
        </div>

        <!-- Question 10 -->
        <div class="question">
          <p>10. What is social engineering?</p>
          <label><input type="radio" name="q10" value="A"> A type of engineering</label>
          <label><input type="radio" name="q10" value="B"> Manipulating people into revealing confidential information</label>
          <label><input type="radio" name="q10" value="C"> A type of malware</label>
          <label><input type="radio" name="q10" value="D"> A type of firewall</label>
        </div>

        <button type="submit">Submit Quiz</button>
      </form>
    </div>

    <!-- Try Again Message (Hidden Initially) -->
    <div id="tryAgainMessage" class="try-again" style="display: none;">
      <p>You scored less than 5. Please try again!</p>
      <button onclick="location.reload()">Try Again</button>
    </div>

    <!-- Testimonials Section -->
    <div class="testimonials">
      <h2>What Our Users Say</h2>
      <div class="testimonial">
        <p>"THE SHIELD helped me secure my business from cyber threats!"</p>
        <p class="testimonial-author">- John Doe</p>
      </div>
      <div class="testimonial">
        <p>"The quiz was challenging and informative. Highly recommended!"</p>
        <p class="testimonial-author">- Jane Smith</p>
      </div>
    </div>
  </div>

  <script>
    // Login Form Submission
    document.getElementById('loginForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const username = document.getElementById('username').value;
      localStorage.setItem('username', username); // Save username
      document.getElementById('loginForm').style.display = 'none'; // Hide login form
      document.getElementById('quizSection').style.display = 'block'; // Show quiz form
      startTimer(); // Start the quiz timer
      updateProgressBar(); // Initialize progress bar
    });

    // Quiz Timer
    let timeLeft = 600; // 10 minutes in seconds
    let timerInterval;

    function startTimer() {
      timerInterval = setInterval(() => {
        timeLeft--;
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById('quizTimer').textContent = `Time Left: ${minutes}:${seconds.toString().padStart(2, '0')}`;

        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          submitQuiz(); // Automatically submit the quiz when time is up
        }
      }, 1000);
    }

    // Progress Bar
    function updateProgressBar() {
      const totalQuestions = 10;
      let answeredQuestions = 0;

      document.querySelectorAll('.question input[type="radio"]').forEach(input => {
        if (input.checked) answeredQuestions++;
      });

      const progress = (answeredQuestions / totalQuestions) * 100;
      document.getElementById('quizProgress').style.width = `${progress}%`;
    }

    // Submit Quiz
    function submitQuiz() {
      let score = 0;

      // Correct answers
      const answers = {
        q1: 'B', // Phishing
        q2: 'B', // Two-factor authentication
        q3: 'B', // Ransomware
        q4: 'B', // Strong password
        q5: 'B', // VPN
        q6: 'B', // Identity theft
        q7: 'B', // Firewall
        q8: 'A', // Malware
        q9: 'B', // Data breach
        q10: 'B', // Social engineering
      };

      // Calculate score
      for (let i = 1; i <= Object.keys(answers).length; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (selected && selected.value === answers[`q${i}`]) {
          score++;
        }
      }

      // Display score
      alert(`You scored ${score} out of ${Object.keys(answers).length}!`);

      // Check if score is 5 or more
      if (score >= 5) {
        const username = localStorage.getItem('username');
        generateCertificate(username, score); // Generate certificate
      } else {
        document.getElementById('quizSection').style.display = 'none'; // Hide quiz form
        document.getElementById('tryAgainMessage').style.display = 'block'; // Show try again message
      }
    }

    // Generate Certificate
    function generateCertificate(username, score) {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF({
        orientation: "portrait",
        unit: "in",
        format: [8.5, 11], // Letter size
      });

      // Add a professional border
      doc.setLineWidth(0.1);
      doc.rect(0.5, 0.5, 7.5, 10); // Border with 0.5-inch margin

      // Add certificate title
      doc.setFontSize(28);
      doc.setFont("helvetica", "bold");
      doc.setTextColor(0, 119, 182); // Sky blue
      doc.text("Certificate of Achievement", 4.25, 1.5, { align: "center" });

      // Add decorative line
      doc.setLineWidth(0.05);
      doc.line(1.5, 1.8, 7, 1.8);

      // Add user's name
      doc.setFontSize(22);
      doc.setTextColor(0, 0, 0); // Black
      doc.text(`This certificate is proudly presented to`, 4.25, 2.5, { align: "center" });
      doc.setFontSize(26);
      doc.setFont("helvetica", "bold");
      doc.text(username, 4.25, 3.2, { align: "center" });

      // Add score
      doc.setFontSize(18);
      doc.setFont("helvetica", "normal");
      doc.text(`for scoring ${score} out of 10 in the Cyber Safety Quiz`, 4.25, 4, { align: "center" });

      // Add organization name
      doc.setFontSize(20);
      doc.setFont("helvetica", "bold");
      doc.setTextColor(0, 119, 182); // Sky blue
      doc.text("THE SHIELD", 4.25, 5, { align: "center" });
      doc.setFontSize(16);
      doc.setTextColor(0, 0, 0); // Black
      doc.text("Making Future More Cyber Safe", 4.25, 5.5, { align: "center" });

      // Add signature section
      doc.setFontSize(14);
      doc.text("________________________", 3, 8); // Signature line
      doc.text("Authorized Signature", 3.5, 8.5); // Signature label

      // Add watermark
      doc.setFontSize(12);
      doc.setTextColor(200, 200, 200); // Light gray
      doc.text("@THE_SHIELD.pvt.ltd By VORAV", 3, 10);

      // Save the PDF
      doc.save(`Cyber_Safety_Certificate_${username}.pdf`);
    }

    // Update progress bar on radio button change
    document.querySelectorAll('.question input[type="radio"]').forEach(input => {
      input.addEventListener('change', updateProgressBar);
    });

    // Submit quiz on form submission
    document.getElementById('quizForm').addEventListener('submit', function(event) {
      event.preventDefault();
      submitQuiz();
    });
  </script>
</body>
</html>